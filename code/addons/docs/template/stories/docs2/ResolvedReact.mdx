import { Meta } from '@storybook/blocks';
import { version as reactVersion } from 'react';
import { version as reactDomVersion } from 'react-dom';
import { version as reactDomServerVersion } from 'react-dom/server';
import * as ResolvedReactStories from './resolved-react.stories';
import { ResolvedReact } from './ResolvedReact';

<Meta of={ResolvedReactStories} name="MDX"/>

This doc is used to display the resolved version of React and its related packages.
As long as `@storybook/addon-docs` is installed, `react` and `react-dom` should be available to import from and should resolve to the same version.

The MDX here ensures that it works in an MDX file.

- See the [autodocs](/docs/addons-docs-docs2-resolvedreact--docs) for how it resolves in MDX.
- See the [Story](/story/addons-docs-docs2-resolvedreact--story) for how it resolves in the actual story.

**Note: There appears to be a bug in the _production_ build of `react-dom`, where it reports version `18.2.0-next-9e3b772b8-20220608` while in fact version `18.2.0` is installed.**

## In MDX

<code>react</code>: <code data-testid="mdx-react">{reactVersion}</code>

<code>react-dom</code>: <code data-testid="mdx-react-dom">{reactDomVersion}</code>

<code>react-dom/server</code>: <code data-testid="mdx-react-dom-server">{reactDomServerVersion}</code>

## In `ResolvedReact` component

<ResolvedReact />
