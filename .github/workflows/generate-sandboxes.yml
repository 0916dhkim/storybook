name: Generate and push sandboxes

on:
  schedule:
    - cron: "2 2 */1 * *"
  workflow_dispatch:
  # To test fixes on push rather than wait for the scheduling, do the following:
  # 1. Uncomment the lines below and add your branch.
  push:
    branches:
      - jeppe/25922-ci-generation-of-sandboxes-fail-sometimes-on-prereleases
  # 2. Change the "ref" value to <your-branch-name> in the actions/checkout step below.
  # 3. Comment out the whole "generate-main" job starting at line 26
  # 3. ðŸ‘‰ DON'T FORGET TO UNDO STEP 2 AND 3 BEFORE YOU MERGE YOUR CHANGES!

jobs:
  generate-next:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          ref: jeppe/25922-ci-generation-of-sandboxes-fail-sometimes-on-prereleases
      - uses: ./.github/actions/generate-sandboxes-composite-action
        with:
          destination-branch: next
  # generate-main:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/checkout@v4
  #       with:
  #         ref: main
  #     - uses: ./.github/actions/generate-sandboxes-composite-action
  #       with:
  #         destination-branch: main
