```ts
// .storybook/main.ts

// Replace your-framework with the framework you are using (e.g., angular, react-webpack5, vue3-webpack5)
import type { StorybookConfig } from '@storybook/your-framework';

// this can be as easy as fs.readFileSync and return the string
// or as complex as creating a new MDX file with the content of the original file
import { parseCode } from './parseCode';

const config: StorybookConfig = {
  indexers: (existingIndexers, addonOptions) => {
    const index = async (fileName, compilationOptions) => {
      const code = parseCode(fileName, addonOptions);
      const makeTitle = (userTitle) => {
        // Do something with the auto title retrieved by Storybook
        return userTitle;
      };

      // Parse the CSF file with makeTitle as a custom context
      const csf = (await loadCsf(code, { ...compilationOptions, makeTitle, fileName })).parse();

      return Object.entries(csf._stories).map(([exportName, story]) => ({
        type: 'story',
        importPath: fileName,
        exportName,
        name: story.name,
        title: csf.meta.title,
        metaId: csf.meta.id,
        tags: story.tags ?? csf.meta.tags,
        __id: story.id,
      }));
    };

    return [
      {
        test: /\.(md|html)$/,
        index,
      },
      ...(existingIndexers || []),
    ];
  },
};

export default config;
```
